(()=>{"use strict";var t={919:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Color=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"red",{get:function(){return this.x},set:function(t){this.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.y},set:function(t){this.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.z},set:function(t){this.z=t},enumerable:!1,configurable:!0}),e.prototype.plus=function(n){return new e(t.prototype.plus.call(this,n).vals)},e.prototype.minus=function(n){return new e(t.prototype.minus.call(this,n).vals)},e.prototype.times=function(n){return new e(t.prototype.times.call(this,n).vals)},e}(n(212).Tuple);e.Color=i},212:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Tuple=void 0;var n=function(){function t(t,e,n){this.vals=t instanceof Array?t:"number"==typeof t?[t,e,n]:[0,0,0]}return Object.defineProperty(t.prototype,"x",{get:function(){return this.vals[0]},set:function(t){this.vals[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.vals[1]},set:function(t){this.vals[1]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this.vals[2]},set:function(t){this.vals[2]=t},enumerable:!1,configurable:!0}),t.prototype.plus=function(e){return new t(this.vals.map((function(t,n){return t+e.vals[n]})))},t.prototype.minus=function(e){return new t(this.vals.map((function(t,n){return t-e.vals[n]})))},t.prototype.negate=function(){return t.zero().minus(this)},t.prototype.times=function(e){return new t(e instanceof t?this.vals.map((function(t,n){return t*e.vals[n]})):this.vals.map((function(t){return t*e})))},t.prototype.dividedBy=function(e){return new t(this.vals.map((function(t){return t/e})))},t.prototype.magnitude=function(){var t=this.vals.map((function(t){return t*t})).reduce((function(t,e){return t+e}));return Math.sqrt(t)},t.prototype.normalize=function(){var e=this.magnitude();return new t(this.vals.map((function(t){return t/e})))},t.prototype.dot=function(t){return this.vals.map((function(e,n){return e*t.vals[n]})).reduce((function(t,e){return t+e}))},t.prototype.cross=function(e){var n=this;return new t([0,1,2].map((function(t){var r=(t+1)%3,o=(r+1)%3;return n.vals[r]*e.vals[o]-n.vals[o]*e.vals[r]})))},t.zero=function(){return new t},t}();e.Tuple=n},894:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Map=void 0,e.Map=function(t,e,n,r,o){var i=(t-e)*(o-r)/(n-e)+r;return i=Math.min(o,i),i=Math.max(r,i),Math.round(i)}},149:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Canvas=void 0;var r=n(919),o=n(894),i=function(){function t(t,e){this.colorRange=255,this.width=t,this.height=e,this.pixels=new Array(t*e)}return t.prototype.writePixel=function(t,e,n){this.pixels[this.getIndex(t,e)]=n},t.prototype.writeAllPixels=function(t){for(var e=0;e<this.pixels.length;e++)this.pixels[e]=t},t.prototype.getPixels=function(){var t=this;return this.pixels.map((function(e){return new r.Color(t.colorOf(e.red),t.colorOf(e.green),t.colorOf(e.blue))}))},t.prototype.pixelAt=function(t,e){return this.pixels[this.getIndex(t,e)]},t.prototype.colorOf=function(t){return(0,o.Map)(t,0,1,0,this.colorRange)},t.prototype.getIndex=function(t,e){return e*this.width+t},t.prototype.toPPM=function(){var t=new Array;return t.push("P3"),t.push("".concat(this.width," ").concat(this.height)),t.push("".concat(this.colorRange)),t.concat(this.writePPMBody())},t.prototype.writePPMBody=function(){for(var t,e=new Array,n=0;n<this.height;n++){for(var o=new Array,i=0;i<this.width;i++){var u=null!==(t=this.pixelAt(i,n))&&void 0!==t?t:new r.Color;o.push(u)}var s=this.splitIntoRowsForLengthRequirement(o);e=e.concat(s)}return e},t.prototype.splitIntoRowsForLengthRequirement=function(t){var e=this,n=new Array,r="";return t.forEach((function(t){for(var o=0;o<3;o++){var i="".concat(e.colorOf(t.vals[o])," ");r.length+i.length>71&&(n.push(r.trim()),r=""),r+=i}})),n.push(r.trim()),n},t}();e.Canvas=i}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}(()=>{var t=n(919),e=n(149),r=(document.getElementById("app"),document.getElementById("kami-canvas")),o=r.getContext("2d"),i=r.width,u=r.height;console.log(u);var s=new e.Canvas(i,u),a=new t.Color(1,0,0);s.writeAllPixels(a);for(var p=s.getPixels(),c=o.createImageData(i,u),l=c.data,f=0;f<l.length;f+=4){var h=p[f/4];null!=h&&(l[f+0]=h.red,l[f+1]=h.green,l[f+2]=h.blue,l[f+3]=255)}o.putImageData(c,0,0)})()})();